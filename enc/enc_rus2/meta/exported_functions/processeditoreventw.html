<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>ProcessEditorEventW</title>
<meta http-equiv="Content-Type" Content="text/html; charset=Windows-1251">
<link rel="stylesheet" type="text/css" href="../../styles/styles.css">
</head>
<body>

<h1>ProcessEditorEventW</h1>
<div class=navbar>
<a href="../index.html">главная</a> |
<a href="index.html">экспортируемые функции</a>
</div>

<div class=shortdescr>
Функция <dfn>ProcessEditorEventW</dfn> сообщает плагину о событиях, происходящих в редакторе FAR Manager.</div>

<pre class=syntax>
int WINAPI ProcessEditorEventW(
  int Event,
  void *Param
);
</pre>

<h3>Параметры</h3>
<div class=descr>
    <div class=dfn>Event</div>
    <div class=dfndescr>Тип события.<br>
      Может быть одной из следующих величин (перечисление <a name="EDITOR_EVENTS">EDITOR_EVENTS</a>):
<table class="cont">
<tr class="cont"><th class="cont" width="40%">Событие</th><th class="cont" width="60%">Описание</th></tr>
        <tr class="cont"><td class="cont" width="40%"><a name="EE_CLOSE">EE_CLOSE</a></td>
        <td class="cont" width="60%">
        Одно из окон редактора закрывается.<br>
        Плагин может использовать
          это сообщение для освобождения внутренних структур данных. Заметьте,
          что несколько окон редактора могут работать одновременно.<br>
          Параметр
          <dfn>Param</dfn> указывает на переменную, содержащую значение
          EditorID закрываемого редактора. EditorID может быть получен ранее с
          использованием <a href="../service_functions/editorcontrol.html#ECTL_GETINFO">ECTL_GETINFO</a> команды <a href="../service_functions/editorcontrol.html">EditorControl</a>.
          Но плагин не должен вызывать EditorControl при обработке этого
          сообщения потому что редактор уже закрыт.<br>
          Функция должна вернуть 0.

       <p class=note><img src="../../images/note.gif" alt="Замечание для EE_CLOSE" width="10" height="10"> Замечание.</p>
       <UL class=note><LI>
       В <dfn>EE_CLOSE</dfn> допускается использовать только
       <a href="../service_functions/editorcontrol.html#ECTL_GETINFO">ECTL_GETINFO</a> и
       <a href="../service_functions/editorcontrol.html#ECTL_GETBOOKMARKS">ECTL_GETBOOKMARKS</a>.
       </LI></UL>

        </td></tr>

        <tr class="cont"><td class="cont" width="40%"><a name="EE_READ">EE_READ</a></td>
        <td class="cont" width="60%">
        Новый файл загружен в редактор. Плагин может
          использовать команды функции <a href="../service_functions/editorcontrol.html">EditorControl</a>
          для модификации считанных данных.<br>
          <i>Param</i> = NULL.<br>
          Функция должна вернуть 0.
        </td></tr>

        <tr class="cont"><td class="cont" width="40%"><a name="EE_SAVE">EE_SAVE</a></td>
        <td class="cont" width="60%">Отредактированный файл собираются сохранять.
          Плагин может использовать команды функции <a href="../service_functions/editorcontrol.html">EditorControl</a> для модификации данных
          перед сохранением.<br>
          <i>Param</i> = NULL.<br>
          Функция должна вернуть 0.
        </td></tr>

        <tr class="cont"><td class="cont" width="40%"><a name="EE_REDRAW">EE_REDRAW</a></td>
        <td class="cont" width="60%">Редактор собирается перерисовать экран. Плагин
          может использовать команду <a href="../service_functions/editorcontrol.html#ECTL_ADDCOLOR">ECTL_ADDCOLOR</a>
          функции <a href="../service_functions/editorcontrol.html">EditorControl</a>,
          чтобы установить цвета для строки. <br>
          <i>Param</i> может быть одним из следующих значений:
<table class="cont">
<tr class="cont"><th class="cont" width="40%">Константа</th><th class="cont" width="60%">Описание</th></tr>
        <tr class="cont"><td class="cont" width="40%"><a name="EEREDRAW_ALL">EEREDRAW_ALL</a></td>
        <td class="cont" width="60%">Прорисовывается весь экран</td></tr>

        <tr class="cont"><td class="cont" width="40%"><a name="EEREDRAW_LINE">EEREDRAW_LINE</a></td>
        <td class="cont" width="60%">Перерисовка только текущей строки</td></tr>

        <tr class="cont"><td class="cont" width="40%"><a name="EEREDRAW_CHANGE">EEREDRAW_CHANGE</a></td>
        <td class="cont" width="60%">Перерисовка вызвана изменением текста.<br><br>

          В случае изменения <dfn>EEREDRAW_CHANGE</dfn> может
          быть перерисована как текущая строка, так и весь экран. Поэтому если
          были изменения раскраски вне текущей строки, настоятельно рекомендуется
          по окончании раскраски вызвать
          <a href="../service_functions/editorcontrol.html#ECTL_REDRAW">ECTL_REDRAW</a>.
          Иначе эти изменения отобразятся только после движения курсора или
          других вызывающих перерисовку событий. Главное при этом не попасть в
          рекурсию.

        </td></tr>

</table>
          Функция должна вернуть 0.<br><br>
        </td></tr>

        <tr class="cont"><td class="cont" width="40%"><a name="EE_KILLFOCUS">EE_KILLFOCUS</a></td>
        <td class="cont" width="60%">Редактор потерял фокус ввода.<br>
          <i>Param</i> указывает на переменную, содержащую значение EditorID редактора, теряющего фокус.<br>
          Функция должна вернуть 0.
        </td></tr>

        <tr class="cont"><td class="cont" width="40%"><a name="EE_GOTFOCUS">EE_GOTFOCUS</a></td>
        <td class="cont" width="60%">Редактор получил фокус ввода.<br>
          <i>Param</i> указывает на переменную, содержащую значение EditorID редактора, получающего фокус.<br>
          Функция должна вернуть 0.
        </td></tr>

</table>
       <p class=warning><img src="../../images/warning.gif" alt="Замечание для EE_REDRAW" width="10" height="10"> Внимание!</p>
       <UL class=warning><LI>
       <b>При обработке EE_REDRAW <u>НЕЖЕЛАТЕЛЬНО</u> ИСПОЛЬЗОВАТЬ
             <a href="../service_functions/message.html">Info.Message</a>,
             <a href="../service_functions/menu.html">Info.Menu</a>,
             <a href="../dialogapi/dialogrun.html">Info.DialogRun</a>.
             Вызов этих функций приводит к рекурсивному вызову EE_REDRAW.</b>
       </LI></UL>

    </div>
    <div class=dfn>Param</div>
    <div class=dfndescr>
      Указатель на данные, зависящие от типа события <i>Event</i>.
    </div>
</div>

<h3>Возвращаемое значение</h3>
<div class=descr>
  Возвращаемое значение зависит от типа события <i>Event</i>.<br>
  Верните 0 для неизвестного типа события.
</div>

<h3>Замечания</h3>
<div class=descr>
  <li>EE_READ вызывается только один раз для файла. </li>
  <li>EE_SAVE вызывается при каждом нажатии F2 или Shift-F2.</li>
  <li>EE_REDRAW вызывается при любой перерисовке экрана (в частности, при движении курсора)</li>
</div>

</body>
</html>
