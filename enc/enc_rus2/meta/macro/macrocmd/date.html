<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>

<head>
<title>$Date - Макросы</title>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-1251">
<link rel="stylesheet" type="text/css" href="../../../styles/styles.css">
</head>

<body>

<h1>$Date</h1>
<div class="navbar">
<a href="../../index.html">главная</a> |
<a href="../index.html">Макросы</a> |
<a href="index.html">Макроязык</a> |
<a href="cmds.html">Макрокоманды</a>
</div>

<div class=shortdescr>
Оператор <dfn>$Date</dfn> предназначена для вставки текущей даты/времени.
</div>

<pre class=syntax>
<dfn>$Date</dfn> [<em>&quot;format&quot;</em>]
</pre>

<h3>Элементы</h3>
<div class=descr>
<div class=dfn>format</div>
<div class=dfndescr>

      Текущее время используется для преобразования в строку по
      формату &quot;format&quot;.
      Этот формат подобен тому, что выдает утилита date (Unix).<br>
      <dfn>$Date</dfn> поддерживает следующую спецификацию формата даты (подобен
      формату функции strftime):
      <table class="cont">
        <tr class="cont">
          <th class="cont" width="10%">Формат</th>
          <th class="cont" width="90%">Описание</th>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%%</td>
          <td class="cont" width="90%">символ %</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%a</td>
          <td class="cont" width="90%">Краткое имя дня недели (Sun или Вск)</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%A</td>
          <td class="cont" width="90%">Полное имя дня недели (Sunday или Воскресенье)</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%b</td>
          <td class="cont" width="90%">Краткое имя месяца (Jan или Янв)</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%B</td>
          <td class="cont" width="90%">Полное имя месяца (January или Январь)</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%c</td>
          <td class="cont" width="90%">Дата и время в формате WDay Mnt Day HH:MM:SS yyyy (Mon Jan 10
            04:11:54 2000 или Пнд Янв 10 04:11:54 2000)</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%C</td>
          <td class="cont" width="90%">Столетие как десятичное число (00 - 99). 1992 =&gt; 19</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%d</td>
          <td class="cont" width="90%">Две цифры дня месяца (01 - 31)</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%D</td>
          <td class="cont" width="90%">Синоним для %x</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%e</td>
          <td class="cont" width="90%">Синоним для %d, но вместо ведущего нуля будет
            стоять пробел.</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%h</td>
          <td class="cont" width="90%">Синоним для %b</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%H</td>
          <td class="cont" width="90%">Две цифры часа (00 - 23)</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%I</td>
          <td class="cont" width="90%">Две цифры часа (01 - 12)</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%j</td>
          <td class="cont" width="90%">Три цифры дня в году (001 - 366)</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%k</td>
          <td class="cont" width="90%">Синоним для %H, но вместо ведущего нуля будет
            стоять пробел.</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%l</td>
          <td class="cont" width="90%">Синоним для %I, но вместо ведущего нуля будет
            стоять пробел.</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%L</td>
          <td class="cont" width="90%">Триггер, переключающий язык названий
            месяцев и дней недели - английский/локальный.<br>
            FAR запрашивает у системы 2 набора наименований:<br>
            1) английские наименования месяцев и дней недели<br>
            2) наименования, соответствующие настройкам текущего
            пользователя (LOCALE_USER_DEFAULT)<br>
            По умолчанию выставляются английские наименования.</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%m</td>
          <td class="cont" width="90%">Месяц, как десятичное число (1 - 12)</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%m0</td>
          <td class="cont" width="90%">Подобно %m, но с ведущим нулем (01 - 12)</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%mh</td>
          <td class="cont" width="90%">Одна цифра месяца, как шестнадцатеричное
            число (1 - C)</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%M</td>
          <td class="cont" width="90%">Две цифры минут (00 - 59)</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%n</td>
          <td class="cont" width="90%">Подобно переводу строки `\\n'<br>
            Внимание! В редакторе автоотступ не работает.</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%p</td>
          <td class="cont" width="90%">AM или PM</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%r</td>
          <td class="cont" width="90%">Подобно %I:%M:%S %p</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%R</td>
          <td class="cont" width="90%">Подобно %H:%M</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%S</td>
          <td class="cont" width="90%">Две цифры секунд (00 - 59)</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%t</td>
          <td class="cont" width="90%">Подобно символу табуляции `\\t'</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%T</td>
          <td class="cont" width="90%">Синоним %X</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%U</td>
          <td class="cont" width="90%">Две цифры номера недели, где Воскресенье (Sunday)
            является первым днем недели (00 - 53)</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%v</td>
          <td class="cont" width="90%">Дата в формате dd-mmm-yyyy (mmm - в верхнем регистре)</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%V</td>
          <td class="cont" width="90%">Неделя года в соответствии с ISO 8601:<br>
            <em>&quot;Если неделя, содержащая 1 Января, имеет &gt;= 4 дней в
            течение нового года, тогда это неделя 1; в противном случае
            это самая последняя нумерованная неделя прошлого года (52
            или 53)&quot;</em></td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%w</td>
          <td class="cont" width="90%">День недели где 0 - Воскресенье (Sunday) (0 - 6)</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%W</td>
          <td class="cont" width="90%">Две цифры номера недели, где Понедельник (Monday)
            является первым днем недели (00 - 53)</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%x</td>
          <td class="cont" width="90%">Дата в формате подобно dd&lt;sep&gt;mm&lt;sep&gt;yyyy (разделитель
            &lt;sep&gt; зависит от локальных настроек; порядок дня, месяца и
            года зависит от локальных настроек)</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%X</td>
          <td class="cont" width="90%">Время в формате HH&lt;sep&gt;MM&lt;sep&gt;SS (разделитель
            &lt;sep&gt; зависит от локальных настроек)</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%y</td>
          <td class="cont" width="90%">Две цифры года без столетия (00 - 99)</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%Y</td>
          <td class="cont" width="90%">Год со столетием (19yy-20yy)</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">%Z</td>
          <td class="cont" width="90%">Имя часового пояса или пусто, если часовой
            пояс не задан</td>
        </tr>
      </table>
      <p>Произвольный текст в форматной строке должен быть только в
      OEM-кодировке.<br>
      В макрокоманде <dfn>$Date</dfn> допускается применение следующих escape-последовательностей:
      <table class="cont">
        <tr class="cont">
          <th class="cont" width="10%">Формат</th>
          <th class="cont" width="90%">Описание</th>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">\&quot;</td>
          <td class="cont" width="90%">Символ '&quot;'</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">\'</td>
          <td class="cont" width="90%">Символ '''</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">\\</td>
          <td class="cont" width="90%">Символ '\'</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">\n</td>
          <td class="cont" width="90%">Перевод строки `\n'</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">\t</td>
          <td class="cont" width="90%">Символ табуляции `\t'</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">\a</td>
          <td class="cont" width="90%">bell</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">\b</td>
          <td class="cont" width="90%">`\b'</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">\f</td>
          <td class="cont" width="90%">`\f'</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">\v</td>
          <td class="cont" width="90%">`\v'</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">\N<br>
            \NN<br>
            \NNN</td>
          <td class="cont" width="90%">8-ричные символы из OEM кодировки</td>
        </tr>
        <tr class="cont">
          <td class="cont" width="10%">\xNN</td>
          <td class="cont" width="90%">16-ричные символы из OEM кодировки</td>
        </tr>
      </table>

</div>

<h3>Замечания</h3>
<div class=descr>
<ol>
<li>Элементы макроязыка невозможно использовать во время <a href="../macrokey/record.html">записи
    макроса</a> стандартным образом. Добавить элементы языка в макрос можно только путем ручной
    правки реестра или путем применения специальных программ/плагинов.</li>
<li>Если аргумент &quot;format&quot; не указан, то FAR будет использовать форматную строку <code>&quot;%a %b %d %H:%M:%S %Z %Y&quot;</code>.
</ol>
</div>

<h3>Пример</h3>
<div class=descr>
<pre class=code>REGEDIT

;вставка текущей даты

[HKEY_CURRENT_USER\Software\Far2\KeyMacros\Common\CtrlD]
"Sequence"="$If (Editor || Dialog || Search) $Date \"%d.%m0.%Y\" Space $Else CtrlD $End"
"DisableOutput"=dword:00000001
</pre>
</div>

<div class=see>Смотрите также:</div><div class=seecont>
<a href="../examples.html">Примеры</a>, <a href="functions.html#date">date()</a>
</div>

</body>

</html>
