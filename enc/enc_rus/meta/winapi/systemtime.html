<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>SYSTEMTIME</title>
<meta http-equiv="Content-Type" Content="text/html; charset=Windows-1251">
<link rel="stylesheet" type="text/css" href="../../styles/styles.css">
<script language="javascript" src='../links.js' type="text/javascript"></script>
</head>

<body>

<h1>SYSTEMTIME</h1>
<div class=navbar>
<a href="../index.html">главная</a> |
<a href="../structures/index.html">структуры</a> |
<a href="index.html">win32 структуры</a>
</div>


<div class=shortdescr>
Структура <strong>SYSTEMTIME</strong> хранит дату и время, используя отдельные
поля для месяца, дня, года, дня недели, часа, минут, секунд и миллисекунд.
</div>

<pre class=syntax>
typedef struct _SYSTEMTIME {
  WORD wYear;
  WORD wMonth;
  WORD wDayOfWeek;
  WORD wDay;
  WORD wHour;
  WORD wMinute;
  WORD wSecond;
  WORD wMilliseconds;
} SYSTEMTIME;
</pre>

<h3>Элементы</h3>
<div class=descr>

    <div class=dfn>wYear</div>
    <div class=dfndescr>Указывает текущий год (1601 - 30827).
    </div>
    <div class=dfn>wMonth</div>
    <div class=dfndescr>Текущий месяц; Январь = 1, Февраль = 2, и так далее.</div>
    <div class=dfn>wDayOfWeek</div>
    <div class=dfndescr>Текущий день недели; Воскресенье = 0, Понедельник = 1, и так далее.</div>
    <div class=dfn>wDay</div>
    <div class=dfndescr>Текущий день месяца. </div>
    <div class=dfn>wHour</div>
    <div class=dfndescr>Час (0-23).</div>
    <div class=dfn>wMinute</div>
    <div class=dfndescr>Минуты (0-59).</div>
    <div class=dfn>wSecond</div>
    <div class=dfndescr>Секунды (0-59).</div>
    <div class=dfn>wMilliseconds</div>
    <div class=dfndescr>Миллисекунды (0-999).</div>

</div>

<h3>Замечания</h3>
<div class=descr>
  <p>Не рекомендуется добавлять или вычитать значения из структуры SYSTEMTIME
  для получения относительного времени. Вместо этого вы должны<ul>
    <li>Конвертировать структуру в <a href="filetime.html">FILETIME</a>, используя функцию <a href="win32/SystemTimeToFileTime">SystemTimeToFileTime</a>.</li>
    <li>Скопировать результирующую структуру <a href="filetime.html">FILETIME</a> в структуру <a href="win32/ULARGE_INTEGER">ULARGE_INTEGER</a>.</li>
    <li>Использовать обычную 64-х битную арифметику со значениями <a href="win32/ULARGE_INTEGER">ULARGE_INTEGER</a> или
    привести переменную типа <strong>FILETIME</strong> к типу <strong>__int64</strong>:
<pre class=code>
FILETIME WriteTime1, WriteTime2;

if(*(__int64*) &amp; WriteTime1 == *(__int64*) &amp; WriteTime2)
 ...
</pre>
    </li>
  </ul>

<!--

   The system can periodically refresh the time by synchronizing with
a time source. Because the system time can be adjusted either forward
or backward, do not compare system time readings to determine elapsed
time. Instead, use one of the methods described in Windows Time.

-->
</div>

<div class=see>Смотрите также:</div><div class=seecont>
<a href="filetime.html">FILETIME</a>,
<a href="win32/LARGE_INTEGER">LARGE_INTEGER</a>,
<a href="win32/GetSystemTime">GetSystemTime</a>,
<a href="win32/SetSystemTime">SetSystemTime</a>
</div>

</body>
</html>