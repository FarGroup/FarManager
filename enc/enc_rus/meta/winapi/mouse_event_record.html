<!DOCTYPE html>
<html lang="ru">
<head>
<title>MOUSE_EVENT_RECORD</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" type="text/css" href="../../styles/styles.css">
<script src="../links.js"></script>
</head>
<body>

<h1>MOUSE_EVENT_RECORD</h1>
<div class="navbar">
<a href="../index.html">главная</a> |
<a href="../structures/index.html">структуры</a> |
<a href="index.html">win32 структуры</a> |
<a href="input_record.html">input_record</a>
</div>

<div class="shortdescr">
Структура <code>MOUSE_EVENT_RECORD</code> используется
консольной структурой <code>INPUT_RECORD</code>
для получения сообщений мыши.
</div>

<pre class="syntax">
typedef struct _MOUSE_EVENT_RECORD {
    COORD dwMousePosition;
    DWORD dwButtonState;
    DWORD dwControlKeyState;
    DWORD dwEventFlags;
} MOUSE_EVENT_RECORD;
</pre>

<h3>Элементы</h3>
<div class="descr">
    <div class="dfn">dwMousePosition</div>
    <div class="dfndescr">Положение курсора в координатах экранного буфера (структура <a href="coord.html">COORD</a>).</div>
    <div class="dfn">dwButtonState</div>
    <div class="dfndescr">Состояние клавиш мыши.
    Младший бит соответствует самой левой кнопке, следующий - самой правой,
    Следующий бит - следующая за левой клавиша.
    Далее биты соответствуют клавишам слева направо. Если бит установлен - клавиша нажата.<br>
    Определены следующие константы для первых пяти клавиш мыши:<br>
    <br>
      <a name="FROM_LEFT_1ST_BUTTON_PRESSED">FROM_LEFT_1ST_BUTTON_PRESSED</a><br>
      <a name="RIGHTMOST_BUTTON_PRESSED">RIGHTMOST_BUTTON_PRESSED</a><br>
      <a name="FROM_LEFT_2ND_BUTTON_PRESSED">FROM_LEFT_2ND_BUTTON_PRESSED</a><br>
      <a name="FROM_LEFT_3RD_BUTTON_PRESSED">FROM_LEFT_3RD_BUTTON_PRESSED</a><br>
      <a name="FROM_LEFT_4TH_BUTTON_PRESSED">FROM_LEFT_4TH_BUTTON_PRESSED</a></div>
    <div class="dfn">dwControlKeyState</div>
    <div class="dfndescr">Состояние управляющих клавиш. Может быть комбинацией следующих значений:

      <table class="cont">
     <tr><th>Клавиша</th><th>Описание</th></tr>
        <tr><td>CAPSLOCK_ON</td>
        <td>CAPS LOCK включён.</td></tr>
        <tr><td>ENHANCED_KEY</td>
        <td>Клавиша расширенная.</td></tr>
        <tr><td>LEFT_ALT_PRESSED </td>
        <td>Левый ALT нажат.</td></tr>
        <tr><td>LEFT_CTRL_PRESSED </td>
        <td>Левый CTRL нажат.</td></tr>
        <tr><td>NUMLOCK_ON </td>
        <td>NUM LOCK включён. </td></tr>
        <tr><td>RIGHT_ALT_PRESSED </td>
        <td>Правый ALT нажат.</td></tr>
        <tr><td>RIGHT_CTRL_PRESSED </td>
        <td>Правый CTRL нажат.</td></tr>
        <tr><td>SCROLLLOCK_ON </td>
        <td>SCROLL LOCK включён. </td></tr>
        <tr><td>SHIFT_PRESSED </td>
        <td>Клавиша SHIFT нажата. </td></tr>
     </table>

    </div>
    <div class="dfn">dwEventFlags</div>
    <div class="dfndescr">Тип сообщения мыши. Если ноль, то кнопка мыши была нажата или отпущена.
      Иначе одно из следующих значений:
       <table class="cont">
       <tr><th>Событие</th><th>Описание</th></tr>
       <tr><td>DOUBLE_CLICK</td>
       <td>Второе нажатие при двойном щелчке (первое нажатие приходит как обычное сообщение).</td>
       </tr>
       <tr><td>MOUSE_MOVED</td>
       <td>Позиция мыши изменилась.</td></tr>
       <tr><td>MOUSE_WHEELED</td>
       <td>Устанавливается при вертикальной прокрутке колёсика
           на мышке. Если установлен этот флаг, то в старшем слове <code>dwButtonState</code> содержтся
           значение, кратное <code>WHEEL_DELTA</code>. По умолчанию это значение равно 120, но может
           изменяться в зависимости от драйвера мыши.</td>
       </tr>
       <tr><td>MOUSE_HWHEELED</td>
       <td><code>Windows Vista/2008/7:</code> Устанавливается при горизонтальной прокрутке колёсика
           на мышке. Если установлен этот флаг, то в старшем слове <code>dwButtonState</code> содержтся
           значение, кратное <code>WHEEL_DELTA</code>. По умолчанию это значение равно 120, но может
           изменяться в зависимости от драйвера мыши.</td>
       </tr>
       </table>
    </div>

</div>

<h3>Замечания</h3>
<div class="descr">
  Сообщения мыши помещаются во входной буфер, когда консоль имеет установленный
  флаг <code>ENABLE_MOUSE_INPUT</code>.<br>
  Сообщения мыши посылаются в буфер, только если консоль имеет активный
  клавиатурный фокус и курсор находится в границах консольного окна.
</div>

<div class="see">Смотрите также:</div>
<div class="seecont">
  <a href="coord.html">COORD</a>,
  <a href="peekconsoleinput.html">PeekConsoleInput</a>,
  <a href="readconsoleinput.html">ReadConsoleInput</a>,
  <a href="writeconsoleinput.html">WriteConsoleInput</a>,
  <a href="input_record.html">INPUT_RECORD</a>
</div>

</body>
</html>