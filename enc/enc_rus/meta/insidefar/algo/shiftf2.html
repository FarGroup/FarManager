<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>"Распаковать" (Extract files/Shift-F2)</title>
<meta http-equiv="Content-Type" Content="text/html; charset=Windows-1251">
<link rel="stylesheet" type="text/css" href="../../../styles/styles.css">
<script language="javascript" src='../../links.js' type="text/javascript"></script>
</head>
<body>
<h1>"Распаковать" (Extract files/Shift-F2)</h1>
<div class=navbar>
<a href="index.html">содержание</a>
</div>

<div class=shortdescr>
<p>Когда пользователь нажимает Shift-F2 на файле (группе выделенных файлов), то FAR
для каждого из выделенных файлов выполняет следующие действия.
</div>

<h3>Обычная панель</h3>
<div class=descr>
  <ul>
   <li>открывает файл, пытается считать максимум 0x20000 байт данных, закрывает файл;
   <li>проходит по списку плагинов, поочередно вызывая функцию
       <a href="../../exported_functions/openfileplugin.html">OpenFilePlugin</a>;
   <li>вызывает <a href="../../exported_functions/getfinddata.html">GetFindData</a> для того плагина,
       который первым сказал, что данные его (вернул из OpenFilePlugin значение,
       отличное от <code>INVALID_HANDLE_VALUE</code> и -2; для значения -2 цикл опроса плагинов прекращается);
   <li>вызывает <a href="../../exported_functions/getfiles.html">GetFiles</a> (для первого обрабатываемого файлы
       OpMode=OPM_TOPLEVEL, для последующих обрабатываемых файлов добавляется флаг OPM_SILENT), в это время,
       например, MultiArc показывает диалог "Extract";
   <li>после успешной отработки функции GetFiles FAR сбрасывает выделения, вызывает функцию
       <a href="../../exported_functions/freefinddata.html">FreeFindData</a> для
       того, чтобы плагин освободил память, выделенную функцией GetFindData.
   <li>закрывает плагин, вызывая функцию <a href="../../exported_functions/closeplugin.html">ClosePlugin</a>.
  </ul>
</div>

<h3>Панель плагина</h3>
<div class=descr>
если плагин при вызове <a href="../../exported_functions/getopenplugininfo.html">GetOpenPluginInfo</a>
заполнил поле <dfn>HostFile</dfn> структуры <a href="../../structures/openplugininfo.html">OpenPluginInfo</a>,
то действия аналогичны действиям, когда пользователь нажимает F5.
</div>

</div>
</body>
</html>
