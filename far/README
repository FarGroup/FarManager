ПРАВИЛА
~~~~~~~

Работа с репозитарием
~~~~~~~~~~~~~~~~~~~~~
   Основы работы с SVN см. в файле svn.html.

   Есть 2 метода работы с сорцами - "Безопасный" и "Экстремальный".
   Достоинства и недостатки видны из описаний - решайте сами.

   Если локального репозитария сорцов еще нет, то вытягиваем к себе.
   Команда:

     svn co http://farmanager.com/****/branches/171 _имя_локальной_папки_

   (полный путь уточняется у держателей репозитария)

   "Безопасный (неправильный метод только для параноиков)"
   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
   Данный метод предполагает, что с проектом работаем в отдельном каталоге,
   локальный репозитарий используется для трансформа изменений из/на сервер.

   1. Получаем апдейты с сервера:

     svn update

   2. Делаем себе рабочую копию из локалной копии репозитария

     svn export Путь_где_валяется_локалный_репозитарий Путь_для_рабочей_копии_сорцов

     например,

       svn export D:\FAR\svn\FAR170 D:\FAR\170.new

     здесь D:\FAR\svn\FAR170 - локальный репозитарий, а D:\FAR\170.new - рабочая
     копия сорцов

   3. Вносим изменения, компилим, тестим, etc.

   4. После внесения изменений...
      - в файле changelog описываем внесенные изменения (ниже, про "changelog"):
      - в файле vbuild.m4 увеличиваем номер билда
      - измененные файлы (в т.ч. changelog и vbuild.m4) кидаем в локальный репозитарий
      - отсылаем изменения на сервер командой:

        svn commit -m "описываем кратко что за изменения сделаны на английском или латиницей"

      - если все успешно и был увеличен номер билда в файле vbuild.m4, то исполняем
        командный файл svn_tag_build.bat для пометки билда в SVN (при необходимости
        это позволит вытащить сорцы любого билда)

   "Экстремальный (или просто единственно правильный метод работы)"
   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

   Данный метод предполагает, что с проектом работаем непосредственно в локальном
   репозитарии. Все действия аналогичны методу "Безопасный" за исключением того,
   что не надо делать export в отдельный каталог.
   Во первых на SVN ничего нельзя испортить - всегда можно вернуть назад.
   Во вторых перед тем как вы комитите сделайте

    svn status

   чтоб посмотреть какие файлы вы изменили, добавли и т.п., а также

    edit:<svn diff

    чтоб посмотреть diff всех файлов что вы изменили.


Сборка
~~~~~~
1. Для сборки VC есть мэйк файл который всё делает:
   makefile_vc

2. Для сборки GCC есть мэйк файл который всё делает:
   makefile_gcc


Описание изменений - файл "changelog"
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
1. Все комментарии по внесенным изменениям пишутся в файл "changelog".
   В сорцах имеет смысл оставлять комменты только если участок в вашей точки
   зрения будет непонятен для "будущих поколений".
2. Дописываем изменения в начало файла.
3. Каждая запись начинается с шапки вида:
   warp 05.12.2006 01:39:38 +0300 - build 2149
4. Изменениям может не присваиваться билд, например, была косметика в
   исходниках.


farversion.m4
~~~~~~~~~~~~~
1. Этот файл содержит информацию для генерации версии фара:
   a. BUILDTYPE, строка определяющая тип сборки, может быть:
      - `'      - пустая строка обозначает релиз
      - `alpha' - альфа версия
      - `beta'  - бета версия
      - `RC'    - релиз кандитат
      - `ЧтоЛибоДругое' - предназначено для выпуска версий фара
        код которых ещё не вошел в SVN чтоб не путать людей и нас.
        Вывод версии фара будет выглядеть следующим образом:
        ВерсияФара alpha ЧтоЛибоДругое based on build НомерБилда
   b. MAJOR - MAJOR версия фара (например 1).
   c. MINOR - MINOR версия фара (например 75).


vbuild.m4
~~~~~~~~~
1. Если в файле "vbuild.m4" был изменен номер билда, то после коммита
   изменений необходимо запустить "svn_tag_build.bat"


Исключения
~~~~~~~~~~
1. Вместо _try __try и т.п. применяем макрос TRY
2. Вместо __except и т.п. применяем макрос EXCEPT


GCC - обеспечение "удачной" компиляции под GCC
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
1. Вместо постфиксов i64 и ui64 используем макро _i64() и _ui64().


x64 - обеспечение "удачной" работы под x86 и x64
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
1. DWORD_PTR, LONG_PTR, etc. применяется вместо DWORD/long/etc. в следующих
   случаях:

   a) нужны там где раньше были int/long/dword/или_любой_не_поинтер_тип_даных
      и в него пихали поинтер
   b) ...
   c) ...


REMINDER
~~~~~~~~
В файле "REMINDER" необходимо заносить сведения, на которые стоит обратить
внимание (или после некоторых действий "вернуться" к некоторому начальному
состоянию).

COMPILERS
~~~~~~~~~
В файле "COMPILERS" находится описание допустимых компиляторов...

SYSLOG
~~~~~~
Сводные знания по теме "Логирование в FAR`е"
